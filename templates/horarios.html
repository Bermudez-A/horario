{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <h2>Gestión de Horarios</h2>
        <form method="POST" class="mb-4">
            <div class="row">
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="profesor_id" class="form-label">Profesor</label>
                        <select class="form-select" id="profesor_id" name="profesor_id" required>
                            <option value="">Seleccione un profesor</option>
                            {% for profesor in profesores %}
                            <option value="{{ profesor.id }}">{{ profesor.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="asignatura_id" class="form-label">Asignatura</label>
                        <select class="form-select" id="asignatura_id" name="asignatura_id" required>
                            <option value="">Seleccione una asignatura</option>
                            {% for asignatura in asignaturas %}
                            <option value="{{ asignatura.id }}">{{ asignatura.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="clase_id" class="form-label">Clase</label>
                        <select class="form-select" id="clase_id" name="clase_id" required>
                            <option value="">Seleccione una clase</option>
                            {% for clase in clases %}
                            <option value="{{ clase.id }}">{{ clase.nombre }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="dia_semana" class="form-label">Día de la Semana</label>
                        <select class="form-select" id="dia_semana" name="dia_semana" required>
                            <option value="">Seleccione un día</option>
                            <option value="Lunes">Lunes</option>
                            <option value="Martes">Martes</option>
                            <option value="Miércoles">Miércoles</option>
                            <option value="Jueves">Jueves</option>
                            <option value="Viernes">Viernes</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="hora_inicio" class="form-label">Hora de Inicio</label>
                        <input type="time" class="form-control" id="hora_inicio" name="hora_inicio" required>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="hora_fin" class="form-label">Hora de Fin</label>
                        <input type="time" class="form-control" id="hora_fin" name="hora_fin" required>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <div class="form-check mt-4">
                            <input class="form-check-input" type="checkbox" id="es_fijo" name="es_fijo">
                            <label class="form-check-label" for="es_fijo">
                                Horario Fijo
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="mb-3">
                        <button type="submit" class="btn btn-primary mt-4">Añadir Horario</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <h3>Horarios Actuales</h3>
        <table class="table">
            <thead>
                <tr>
                    <th>Profesor</th>
                    <th>Asignatura</th>
                    <th>Clase</th>
                    <th>Día</th>
                    <th>Hora Inicio</th>
                    <th>Hora Fin</th>
                    <th>Fijo</th>
                </tr>
            </thead>
            <tbody>
                {% for horario in horarios %}
                <tr>
                    <td>{{ horario.profesor.nombre }}</td>
                    <td>{{ horario.asignatura.nombre }}</td>
                    <td>{{ horario.clase.nombre }}</td>
                    <td>{{ horario.dia_semana }}</td>
                    <td>{{ horario.hora_inicio.strftime('%H:%M') }}</td>
                    <td>{{ horario.hora_fin.strftime('%H:%M') }}</td>
                    <td>{{ 'Sí' if horario.es_fijo else 'No' }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %} 